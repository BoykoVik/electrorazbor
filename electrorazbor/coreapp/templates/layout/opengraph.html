{% load static %}
<meta property="og:locale" content="ru_RU">
<meta property="og:type" content="{% if product %}product{% else %}website{% endif %}">
<meta property="og:site_name" content="Electrorazbor.ru">
<meta property="og:title" content="{% if product %}{{ product.name|truncatechars:240 }}{% else %}{{ title|default:"Electrorazbor.ru" }}{% endif %}">
{% if product %}
<meta property="og:description" content="{{ product.about|striptags|truncatechars:300|default:"Описание товара" }}">
<meta property="og:url" content="https://{{ request.get_host }}{{ product.get_absolute_url }}">
{% with main_image=product.productimages.first %}
{% if main_image %}
<meta property="og:image" content="https://{{ request.get_host }}{{ main_image.image.url }}">
<meta property="og:image:url" content="https://{{ request.get_host }}{{ main_image.image.url }}">
<meta property="og:image:secure_url" content="https://{{ request.get_host }}{{ main_image.image.url }}">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="{{ product.name|truncatechars:100 }}">
{% else %}
<meta property="og:image" content="https://{{ request.get_host }}{% static 'electrorazbor.png' %}">
{% endif %}
{% endwith %}
<meta property="product:price:amount" content="{{ product.price }}">
<meta property="product:price:currency" content="RUB">
<meta property="product:availability" content="{% if product.show %}in stock{% else %}out of stock{% endif %}">
{% else %}
<meta property="og:description" content="{{ description|striptags|truncatechars:300|default:"Electrorazbor.ru" }}">
<meta property="og:url" content="https://{{ request.get_host }}{{ request.path }}">
<meta property="og:image" content="https://{{ request.get_host }}/static/web-app-manifest-512x512.png">
<meta property="og:image:url" content="https://{{ request.get_host }}/static/web-app-manifest-512x512.png">
<meta property="og:image:secure_url" content="https://{{ request.get_host }}/static/web-app-manifest-512x512.png">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="500">
<meta property="og:image:height" content="500">
<meta property="og:image:alt" content="{{ title|default:"Electrorazbor.ru" }}">
{% endif %}
<meta property="og:updated_time" content="{% now "c" %}">
<meta property="vk:image" content="https://{{ request.get_host }}{% if product and product.productimages.first %}{{ product.productimages.first.image.url }}{% else %}{% static 'electrorazbor.png' %}{% endif %}">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{% if product %}{{ product.name|truncatechars:70 }}{% else %}{{ title|default:"Electrorazbor.ru" }}{% endif %}">
<meta name="twitter:description" content="{% if product %}{{ product.about|striptags|truncatechars:200 }}{% else %}{{ description|striptags|truncatechars:200 }}{% endif %}">
<meta name="twitter:image" content="https://{{ request.get_host }}{% if product and product.productimages.first %}{{ product.productimages.first.image.url }}{% else %}{% static 'electrorazbor.png' %}{% endif %}">
<meta name="twitter:image:alt" content="{% if product %}{{ product.name|truncatechars:100 }}{% else %}{{ title|default:"Electrorazbor.ru" }}{% endif %}">
{% comment %}
<meta name="description" content="{% if product %}{{ product.about|striptags|truncatechars:160 }}{% else %}{{ description|striptags|truncatechars:160 }}{% endif %}">
{% endcomment %}